<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Consumption</title>
  <link rel="icon" href="{{ url_for('static', filename='images/logo.png') }}" type="image/png">

  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body class="consumption-page nav-page">

  <div class="layout-wrapper">

    {% include "navbar.html" %}


    <div class="container">
      <div class="card">


        <h1><img src="{{ url_for('static', filename='images/time.png') }}" alt="Electricity Icon" class="icon-animated"
            style="width: 52px; vertical-align: middle; margin-right: 8px;">Consumption</h1>

        <p class="subtitle">Analyze your energy usage patterns and trends.</p>

        <div class="tabs-container">
          <div class="tabs">
            <button class="tab active" id="liveTabBtn" data-tab="live">Live</button>
            <button class="tab" id="historicalTabBtn" data-tab="historical">Historical</button>
          </div>
          <div class="tabs-underline" id="tabUnderline"></div>
        </div>


        <!-- LIVE Tab -->
        <div id="live-tab" class="tab-content">
          <section class="section">
            <h2>Live Power</h2>
            <div class="card">
              <p class="metric-title">Live Power Consumption</p>
              <h3 class="metric-value" id="livePowerValue">0 kW</h3>
              <p class="metric-change green" id="livePowerChange">Live +0%</p>
              <canvas id="powerChart"></canvas>
            </div>

            <h2>Live Energy</h2>
            <div class="card">
              <p class="metric-title">Live Energy Consumption</p>
              <h3 class="metric-value" id="liveEnergyValue">0 kWh</h3>
              <p class="metric-change green" id="liveEnergyChange">Live +0%</p>
              <canvas id="energyChart"></canvas>
            </div>
          </section>
        </div>

        <!-- HISTORICAL Tab -->
        <div id="historical-tab" class="tab-content" style="display:none">
          <div class="date-section">
            <div class="date-input">
              <label for="start-date">Start Date</label>
              <input type="date" id="start-date" class="date-picker" />
            </div>
            <div class="date-input">
              <label for="end-date">End Date</label>
              <input type="date" id="end-date" class="date-picker" />
            </div>
          </div>

          <div class="generate-container">
            <button class="generate-btn" onclick="generateHistoricalData()">
              <span class="icon">▶️</span> Generate
            </button>
          </div>

          <section class="section">

            <h2><svg width="40" height="40" viewBox="0 0 49 49" fill="none" xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink">
                <rect width="49" height="49" fill="url(#pattern0_7_38)" />
                <defs>
                  <pattern id="pattern0_7_38" patternContentUnits="objectBoundingBox" width="1" height="1">
                    <use xlink:href="#image0_7_38" transform="scale(0.0111111)" />
                  </pattern>
                  <image id="image0_7_38" width="100" height="100" preserveAspectRatio="none"
                    xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEJUlEQVR4nO2czYsUVxDASw/qihAQD2pmnaoheJiLIGgED3pUxLMI+RcCOTnxEC8mBvyGHHQv5ug1EfzONQgSiJegIYckh4Agfu1WzaI5PHk9uyqOu907/fq96u76wbsMQzPzm+p671X1GwDDMAzDMAzDMAwjIZ+5tYByFkieAjEDyQx03FTKj9RMySQ3gMR9MGZSf7Q2SHaAMgutoOOmsqjytzLKEyA5nYmJIXkk+gW0AvKSxwTcCCI7T3Imms9D83GrAHluCQnlZBeRHOoHrQUos8FFmOSPQHwhaNSZ5AhiTHIOfbcGkK/lyL4FXbeu0mu0gn4JUSY5guy+RXL1kd03ySGKP9dzJ0hbJxcA+QSQ7Cop2zYjy0uWb9/WGVA+X/J9PjUQ/zyBZFtdwKLk94s6YWWbZPhQcnjZJhlQvs+R9BxIdpfM2XGKRGo7NfmSXW1kq+3UFJfsCstOtaxT26lZuWSnVrbaTs3kkp062Wo7NeUlOzWy1ZZeSU4GkuwKL/2qKo+qraWElkwJZauVjPJdJZIpQRpRmy668lXFkl002Wol94Z7Afn/SKJdpZsatZLBrQaSBxElu4C1kRp1amjui+iSqQLZqiWPnjL6K5loCphGdKaLBbbxzsSSXcDI1hjJCyB/M7kcfgXIx2BatmYDeZC9ljaylUXyIii/lBA9GL8eD0pGd2jZCiR7SB5OLGUbbxm7Xpc3K0ojijo1owiaTMi0bB27Xkc+LS06nGxNonk+aOro8ddBRIdLI1pSB/9TcjIcBJwMJ5NNclO/bOJ7gcW44CNliTUYxJeTi6QAke0lqt6wkBxWINE1P7K3uPVALMklUhsiG/mcAoGu+ZG9fXYToLxMLpDaILv81tklkV2/NOJWA8rddsrmixFF+13ds0+A5PfWyUaey+ryUcHhvjhyOGyJtZRsns/u6IiSu4DyOJLoQfB5Ik/2Uk1blCsQOUf/Fu12n/5I5c+/VvoHLCKbL47+JIDnM8l9twGi0RsejSaZKhRdRHaGz8mx87Inf81ZferoBSyx+tNiKiH+L7LoV5WVWFFOgVrqVe9w9ZTsQf43uSRqumQP8dXkoqjUOAO1oMsHFchyzY3k98nvvekbWDfJns6LjUDyKLk8arLkd1vUW8kFUpMlFyuUaxlnoJaY5AiY5AgUO+txu/AEifIYunP7K2ke+L+uqCUrOVAzWo0sv/RDvp/Vsxc7NaHaYsivAeVLqCWTnlrq8oFsB4l+u87DUSGKfwIcHhnvUPj6Nh8r2V1/AF3ZA7UF+YcVSy73KMPZFRWtkP/M6uNR20uVHHVb9ktX037vuCno8SEgvgTIvwLx3wuPDD8Dkj8A5Q4QHwfkHdAMMtHzeh9vbRIkP5rkGPhmZCbbNyezJuUFi+RKSdGcNAzDMAzDMAwDWsobfxRfzoniLaMAAAAASUVORK5CYII=" />
                </defs>
              </svg> Power</h2>
            <div class="card">
              <p class="metric-title">Power Consumption</p>
              <h3 class="metric-value" id="histPowerValue">0 kW</h3>
              <p class="metric-change green" id="histPowerChange">Today +0%</p>
              <canvas id="historicalPowerChart"></canvas>
            </div>

            <h2> <svg width="54" height="70" viewBox="0 0 54 70" fill="none" xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink">
                <rect width="54" height="70" fill="url(#pattern0_8_160)" />
                <defs>
                  <pattern id="pattern0_8_160" patternContentUnits="objectBoundingBox" width="1" height="1">
                    <use xlink:href="#image0_8_160" transform="matrix(0.0111111 0 0 0.00857143 0 0.114286)" />
                  </pattern>
                  <image id="image0_8_160" width="115" height="115" preserveAspectRatio="none"
                    xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAACXBIWXMAAAsTAAALEwEAmpwYAAADcElEQVR4nO2ZMW5UMRCGhyYICvpACJ5labZEXIFwgVwA2gRuAHU4QjZdCgquAYTQEK4QkYQmBSJjBVHkIXuDIgVtnr1v9vHbzCe9aldj//8be57HRIZhGIZhGIZhGIZhGEa9DJvr5PwLYtklFjl/dsn55/E3Q4Elf4fYfyH2zZRnL/7H6EDI1qtNvjDbMrsDcbtoNfnPs95lqP8bJ5/SjZaP/3q65eLkJNno8N/iGIJU+ThuqtH+B1VW5T/Pv8o318jJS2I5q3PrGGZU+VGzMJc5LDU3yMmbjCJYYDF0WVV+TX38ZVnMK4A9vHiAKr+jOvayPCQnX2cyubgDi8uo8qFQ3Tt1KuOyXyUW3zLeQdyHw7hxnrITt4uiMjngZCWv+MRPql/Efjy74YlFL6y0sK0UzfD4FrHfzDb5b8O36f7pMLPwbiesnLe02NykonGyQk72ZzZ4VsOTil588Rsx6wvP4nGnLE7ZUgY/HxDLM3Lyntgfnx98wj570GJy2K9XqWi0s5i1HzmkgX9ERWex81tJWexkPxYpJx/I+e8xG528o4E8nWSpH59nrfZKKKToXe5RRJNkh5y8SstiCS9hM76UNsKXhqbh4TQYToUV9Cjas5hPHmeP29lwOYurp4iil96jmJbF46QsnovhIlRpj+LyXryiOpdoeK3tzexGTFiufqtzFk8j1oga25t5PYqwJz6Z63xCD6LO9mbOlU8PS3XULMSuWtf25iTOa2J/dEXiHMYTZC/NJcRLzLv+dryN6dLeDAamr4yN+YsKd3mIS3UYv4bWJi3NGdqbk2xNTaDDvgR1X6poZBV43/R5YNmr6iaCEY2+KB7rcR8Oy7TomwgCNrorI7AqX63RDFblKzb6KEPYtx7mU63RDZQwtPlUK4zB5lOtMAabD5ywkdLXixntrzZa6+vFjPZtRut8vZjRvs1onS3IjPZmdCcYLBPhMhqtyjNYHDXQqjyDxVEDrcozWBw10IQxWBw10IQxWBw10IQxWBw10IQxWBw10IQxWBw10IQxWBw10IQxWBw10IQxWBw10IQxWBw10IQxWBw10IQxWBw10IQxWBw10IQxWBw10IQxWBw10IQxWBw10IQxWBw10IQxWBw10IQxWBw10IQxWBw10IQxWBw10IQxWBzDMAzDMAzDMAzDMAyqn99vo2X+SvJ7ngAAAABJRU5ErkJggg==" />
                </defs>
              </svg>Energy</h2>
            <div class="card">
              <p class="metric-title">Energy Consumption</p>
              <h3 class="metric-value" id="histEnergyValue">0 kWh</h3>
              <p class="metric-change green" id="histEnergyChange">Today +0%</p>
              <canvas id="historicalEnergyChart"></canvas>
            </div>
          </section>
        </div>
      </div>
    </div>
  </div>
  <script src="{{ url_for('static', filename='script.js') }}" defer></script>

</body>

</html>